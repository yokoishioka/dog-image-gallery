<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>Asana | San Francisco Pet Adoption Agency</title>
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="stylesheet" type="text/css" href="assets/styles/site.css">
<script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>
<script>
$(document).ready(function(){
	var items = [];
	var str = '';
	var thisIndex = 0;
	var galleryLength;
	
	// get images from the feed into the gallery
    $.getJSON( "assets/data/dogs.json", function( data ) {
		$.each( data.dogs, function( key, val ) {
			items.push("<div class='dog-image'><img class='dog-image' src='/dog-image-gallery/" + val.image + "' alt='asana: san francisco pet adoption agency'></div>");
		});
		
		// put first image into the gallery
		str = items[thisIndex];
		$('.dog-gallery').html(str);
		galleryLength = items.length;
		
		// add image counter
		$(".dog-image-counter").html((thisIndex + 1) + " / " + galleryLength);
	});	
	
	// dog image gallery - previous and next navigation buttons
	
	$('a.previous-dog-image').addClass("disabled");
	
	
	$('a.previous-dog-image').click(function(){
		
		if (!$(this).hasClass("disabled")) {
			thisIndex--;
			if (thisIndex < 1) {
				$(this).addClass("disabled");
			}
			str = items[thisIndex];
			$('.dog-gallery').html(str);
			$(".dog-image-counter").html((thisIndex + 1) + " / " + galleryLength);
		}
		if ($("a.next-dog-image").hasClass("disabled")) {
			$("a.next-dog-image").removeClass("disabled");
		}
	});
	$('a.next-dog-image').click(function(){
		if (thisIndex == 0) {
			$('a.previous-dog-image').removeClass("disabled");
		}
		if (thisIndex == galleryLength - 2) {
			$(this).addClass("disabled");
		}
		if (thisIndex < galleryLength - 1) { 	
			thisIndex++;		
			str = items[thisIndex];
			$('.dog-gallery').html(str);
			$(".dog-image-counter").html((thisIndex + 1) + " / " + galleryLength);
		}

	});
	

});
</script>
</head>

<body>
	<div class="container">
		<div class="dog-image-counter">
		</div>
		<div class="dog-gallery-navigation">
			<a class="previous-dog-image">
				<i class="fas fa-dog"></i>
				<i class="fas fa-angle-double-left"></i>
			</a>

			<a class="next-dog-image">
				<i class="fas fa-dog"></i>
				<i class="fas fa-angle-double-right"></i>
			</a>
		</div>
		<div class="dog-gallery">
			
		</div>
		
	</div>
  
</body>
</html>
